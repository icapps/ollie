{"version":3,"sources":["../../src/dialogs/replace-variables.dialog.js"],"names":["ReplaceVariablesDialog","projectName","path","questions","getConfig","ollieConfig","prompt","replacementQuestions","replacementAnswers","result","join"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBA,sB;AACnB,kCAAYC,WAAZ,EAAyBC,IAAzB,EAA+B;AAAA;;AAC7B,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACD;;;;;;;;;;;;uBAG2B,gBAAaC,SAAb,CAAuB,KAAKF,IAA5B,C;;;AAApBG,2B;;uBAC2B,mBAASC,MAAT,CAAgBD,YAAYE,oBAAZ,IAAoC,EAApD,C;;;AAA3BC,kC;;uBACe,8BAAe,KAAKP,WAApB,EAAiCO,kBAAjC,EAAqD,KAAKN,IAA1D,C;;;AAAfO,sB;;uBAGA,+CAAe,eAAKC,IAAL,CAAU,KAAKR,IAAf,EAAqB,WAArB,CAAf,O;;;iDACCO,M;;;;;;;;;;;;;;;;;;;;;kBAdUT,sB","file":"replace-variables.dialog.js","sourcesContent":["import path from 'path';\nimport _ from 'lodash';\nimport inquirer from 'inquirer';\nimport OllieHelpers from './../utils/ollie.util';\nimport seekAndReplace from './../utils/seek-and-replace';\nimport exec from './../utils/child-process-promise';\n\nexport default class ReplaceVariablesDialog {\n  constructor(projectName, path) {\n    this.projectName = projectName;\n    this.path = path;\n    this.questions = [];\n  }\n\n  async start() {\n    const ollieConfig = await OllieHelpers.getConfig(this.path);\n    const replacementAnswers = await inquirer.prompt(ollieConfig.replacementQuestions || []);\n    const result = await seekAndReplace(this.projectName, replacementAnswers, this.path);\n    \n    // Remove ollie.yml file from project\n    await exec(`rm -f \"${path.join(this.path, 'ollie.yml')}\"`)\n    return result;\n  }\n}\n\n"]}